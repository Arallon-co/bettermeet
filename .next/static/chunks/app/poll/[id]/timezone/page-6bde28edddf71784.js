(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{586:(e,a,s)=>{"use strict";s.d(a,{N:()=>h});var l=s(5155),r=s(2115),t=s(3030),n=s(9940),i=s(6146),o=s(6247),c=s(3176),u=s(4554),m=s(5529),d=s(3418),x=s(2771);function h(e){let{value:a,onChange:s,label:h="Timezone",showCurrentTime:f=!1,isRequired:v=!1,className:N=""}=e,[p,j]=(0,r.useState)(""),[b,T]=(0,r.useState)(""),[w,g]=(0,r.useState)(!1),C=(0,r.useRef)(null),y=(0,r.useMemo)(()=>[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska Time (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)"},{value:"Europe/London",label:"Greenwich Mean Time (GMT)"},{value:"Europe/Paris",label:"Central European Time (CET)"},{value:"Europe/Berlin",label:"Central European Time (CET)"},{value:"Europe/Moscow",label:"Moscow Time (MSK)"},{value:"Asia/Tokyo",label:"Japan Standard Time (JST)"},{value:"Asia/Shanghai",label:"China Standard Time (CST)"},{value:"Asia/Kolkata",label:"India Standard Time (IST)"},{value:"Asia/Dubai",label:"Gulf Standard Time (GST)"},{value:"Australia/Sydney",label:"Australian Eastern Time (AET)"},{value:"Australia/Perth",label:"Australian Western Time (AWT)"},{value:"Pacific/Auckland",label:"New Zealand Standard Time (NZST)"}],[]),A=(0,r.useMemo)(()=>b?y.filter(e=>e.label.toLowerCase().includes(b.toLowerCase())||e.value.toLowerCase().includes(b.toLowerCase())):y,[y,b]);(0,r.useEffect)(()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;j(e),!a&&e&&s(e)}catch(e){console.warn("Could not detect user timezone:",e)}},[a,s]);let S=(0,r.useMemo)(()=>{if(!a)return"";try{let e=new Date;return new Intl.DateTimeFormat("en-US",{timeZone:a,hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).format(e)}catch(e){return console.warn("Error formatting time:",e),""}},[a]),E=e=>{let a=y.find(a=>a.value===e);return a?a.label:e};return(0,l.jsxs)("div",{className:"space-y-3 ".concat(N),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.A,{className:"w-5 h-5 text-primary-600"}),(0,l.jsxs)("label",{className:"text-sm font-medium text-foreground",children:[h,v&&(0,l.jsx)("span",{className:"text-danger-500 ml-1",children:"*"})]})]}),(0,l.jsxs)(t.y,{isOpen:w,onOpenChange:e=>{g(e),e?setTimeout(()=>{var e;null==(e=C.current)||e.focus()},100):T("")},placement:"bottom-start",showArrow:!1,children:[(0,l.jsx)(n.T,{children:(0,l.jsx)(i.T,{variant:"bordered",className:"w-full justify-between",endContent:(0,l.jsx)(d.A,{className:"w-4 h-4"}),startContent:(0,l.jsx)(x.A,{className:"w-4 h-4 text-foreground-400"}),children:a?E(a):"Select timezone"})}),(0,l.jsx)(o.C,{className:"w-80 p-0",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)(c.r,{ref:C,placeholder:"Search timezones...",value:b,onChange:e=>T(e.target.value),className:"mb-3",size:"sm",startContent:(0,l.jsx)(x.A,{className:"w-4 h-4 text-foreground-400"})}),(0,l.jsxs)("div",{className:"max-h-60 overflow-y-auto space-y-1",children:[A.map(e=>(0,l.jsx)("button",{onClick:()=>{s(e.value),g(!1),T("")},className:"w-full text-left p-3 rounded-lg transition-colors hover:bg-foreground-100 ".concat(a===e.value?"bg-primary-50 border border-primary-200":""),children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"font-medium text-sm",children:e.label}),(0,l.jsx)("span",{className:"text-xs text-foreground-500",children:e.value})]})},e.value)),0===A.length&&(0,l.jsx)("div",{className:"text-center py-4 text-foreground-500 text-sm",children:"No timezones found"})]})]})})]}),f&&a&&S&&(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(u.R,{color:"primary",variant:"flat",size:"sm",startContent:(0,l.jsx)(x.A,{className:"w-3 h-3"}),children:["Current time: ",S]})}),p&&p!==a&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(u.R,{color:"secondary",variant:"flat",size:"sm",startContent:(0,l.jsx)(m.A,{className:"w-3 h-3"}),children:["Your timezone: ",E(p)]}),(0,l.jsx)(i.T,{size:"sm",variant:"bordered",color:"primary",onPress:()=>s(p),className:"text-xs",children:"Use Mine"})]})]})}},4648:(e,a,s)=>{Promise.resolve().then(s.bind(s,8420))},5695:(e,a,s)=>{"use strict";var l=s(8999);s.o(l,"useRouter")&&s.d(a,{useRouter:function(){return l.useRouter}})},6575:(e,a,s)=>{"use strict";s.d(a,{d:()=>c});var l=s(2881),r=s(6973),t=s(6548),n=s(5712),i=s(5155),o=(0,r.Rf)((e,a)=>{var s;let{as:r,className:o,children:c,...u}=e,m=(0,t.zD)(a),{slots:d,classNames:x}=(0,l.f)(),h=(0,n.$)(null==x?void 0:x.header,o);return(0,i.jsx)(r||"div",{ref:m,className:null==(s=d.header)?void 0:s.call(d,{class:h}),...u,children:c})});o.displayName="NextUI.CardHeader";var c=o},8420:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var l=s(5155),r=s(2115),t=s(7290),n=s(6575),i=s(4736),o=s(6146),c=s(5529),u=s(586),m=s(5695);function d(e){let{params:a}=e,[s,t]=r.useState("");return(r.useEffect(()=>{a.then(e=>t(e.id))},[a]),s)?(0,l.jsx)(x,{id:s}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-foreground-600",children:"Loading..."})]})})}function x(e){let{id:a}=e,[s,d]=(0,r.useState)(""),[x,h]=(0,r.useState)(!1),f=(0,m.useRouter)();return(0,l.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,l.jsxs)(t.Z,{className:"w-full max-w-md",children:[(0,l.jsx)(n.d,{className:"pb-0",children:(0,l.jsxs)("div",{className:"w-full text-center",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,l.jsx)(c.A,{className:"w-8 h-8 text-primary-600"}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Select Your Timezone"})]}),(0,l.jsx)("p",{className:"text-foreground-600",children:"Please select your timezone before viewing the poll. This helps us display times correctly for you."})]})}),(0,l.jsxs)(i.U,{className:"space-y-6",children:[(0,l.jsx)(u.N,{value:s,onChange:e=>{d(e),h(!!e)},label:"Your Timezone",showCurrentTime:!0,isRequired:!0}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(o.T,{variant:"bordered",onPress:()=>f.back(),className:"flex-1",children:"Go Back"}),(0,l.jsx)(o.T,{color:"primary",onPress:()=>{s&&(sessionStorage.setItem("poll-".concat(a,"-timezone"),s),f.push("/poll/".concat(a)))},disabled:!x,className:"flex-1 text-white",children:"Continue to Poll"})]})]})]})})}}},e=>{e.O(0,[204,494,394,441,964,358],()=>e(e.s=4648)),_N_E=e.O()}]);